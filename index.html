<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AIMatch Bharat ‚Äì AI/ML Internship Allocation</title>
<style>
:root {
  --primary:#1a237e;
  --accent:#ff9800;
  --muted:#f4f6fb;
  --bg:#fff;
  --text:#111;
  --card-bg:#fff;
  --shadow:rgba(0,0,0,0.08);
  --transition:0.3s;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
  line-height:1.5;
}
a{color:inherit;text-decoration:none;cursor:pointer}
h1,h2,h3{font-weight:700}

/* Navbar */
.navbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 24px;background:var(--primary);color:#fff;
  border-radius:8px;margin-bottom:20px;
}
.navbar .logo{display:flex;align-items:center;gap:8px;font-size:1.15rem}
.navbar .navlinks{display:flex;gap:16px}
.navbar .navlinks a{color:#fff;font-weight:500;transition:var(--transition)}
.navbar .navlinks a:hover{color:var(--accent)}

/* Hero */
.hero{text-align:center;padding:100px 20px;background:var(--muted)}
.hero h1{font-size:2.5rem;color:var(--primary);margin-bottom:16px}
.hero p{font-size:1.1rem;margin-bottom:24px;max-width:640px;margin:auto}
.cta{
  display:inline-block;padding:12px 20px;border-radius:10px;
  font-weight:600;margin:6px;transition:var(--transition);
}
.cta.primary{background:var(--accent);color:#fff}
.cta.secondary{background:#3949ab;color:#fff}
.cta:hover{opacity:0.9;transform:translateY(-2px)}

/* Features & Stats */
.features,.stats{
  display:flex;justify-content:center;gap:16px;padding:40px 20px;flex-wrap:wrap;
}
.card{
  flex:1;min-width:220px;padding:20px;border-radius:12px;
  background:var(--card-bg);box-shadow:0 4px 12px var(--shadow);
  text-align:center;transition:var(--transition);
}
.card:hover{transform:translateY(-4px)}
.card h3{margin-bottom:10px;color:var(--primary)}
.card p{color:#555}
.stats .card h2{color:var(--accent);font-size:2rem;margin-bottom:6px}

/* Footer */
.footer{
  text-align:center;padding:24px;background:#0d1335;color:#fff;margin-top:20px;
}
.footer a{color:var(--accent);margin:0 6px}

/* Login Modal */
.login-modal{
  display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);
  justify-content:center;align-items:center;z-index:9999;
}
.login-box{
  width:380px;background:#fff;padding:28px;border-radius:12px;
  box-shadow:0 8px 28px rgba(0,0,0,0.25);animation:fadeIn var(--transition);
}
@keyframes fadeIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
.login-box h3{text-align:center;color:var(--primary);margin-bottom:18px}
.login-tabs{display:flex;margin-bottom:16px;border-bottom:1px solid #ddd}
.login-tab{
  flex:1;text-align:center;padding:10px;cursor:pointer;
  font-weight:600;color:#555;transition:var(--transition);
}
.login-tab.active{border-bottom:3px solid var(--accent);color:var(--accent)}
.login-input{
  width:100%;padding:12px;margin:6px 0 12px;
  border:1px solid #ccc;border-radius:6px;transition:var(--transition);
}
.login-input:focus{border-color:var(--accent);outline:none}
.login-btn{
  width:100%;padding:12px;border-radius:8px;border:none;
  background:var(--accent);color:#fff;font-weight:700;cursor:pointer;
  transition:var(--transition);
}
.login-btn:hover{opacity:0.95;transform:translateY(-2px)}
.small{font-size:0.85rem;text-align:left;color:#555;margin-bottom:4px}

@media(max-width:720px){
  .hero{padding:60px 16px}
  .navbar{flex-direction:column;align-items:flex-start;gap:8px}
  .navbar .navlinks{flex-wrap:wrap}
}
</style>
</head>
<body>

<nav class="navbar">
  <div class="logo"><img src="NE_Preview1.webp" alt="logo" width="30"> <b>AIMatch Bharat</b></div>
  <div class="navlinks">
    <a onclick="scrollTo('home')">Home</a>
    <a onclick="scrollTo('features')">Features</a>
    <a href="student.html" onclick="return checkRoleBeforeNav(event,'student')">Student</a>
    <a href="company.html" onclick="return checkRoleBeforeNav(event,'company')">Company</a>
    <a href="admin.html" onclick="return checkRoleBeforeNav(event,'admin')">Admin</a>
  </div>
</nav>

<header id="home" class="hero">
  <h1>Empowering Students & Industries</h1>
  <p>AI/ML engine to match students with the right internship opportunities and help companies find top talent.</p>
  <div>
    <div class="cta primary" onclick="openAuth('student')">üéì Student Login / Register</div>
    <div class="cta secondary" onclick="openAuth('company')">üè¢ Company Login / Register</div>
    <div class="cta secondary" onclick="openAuth('admin')">üõ°Ô∏è Admin Login</div>
  </div>
</header>

<section id="features" class="features">
  <div class="card"><h3>Create Your Profile</h3><p>Showcase your skills, education & aspirations. Priority boost for rural/reserved category students.</p></div>
  <div class="card"><h3>AI-Powered Matching</h3><p>Our engine analyzes profile + aptitude test to suggest best-fit internships.</p></div>
  <div class="card"><h3>Blockchain Certificates</h3><p>Students get verified blockchain certificates once approved by Admin.</p></div>
</section>

<section class="stats">
  <div class="card"><h2>1500+</h2><p>Internships Posted</p></div>
  <div class="card"><h2>2,50,000+</h2><p>Students Registered</p></div>
  <div class="card"><h2>500+</h2><p>Companies Onboarded</p></div>
</section>

<footer class="footer">
  <p><b>AIMatch Bharat</b> ‚Äì A SIH Hackathon 2025 Project</p>
  <p><a href="#">About Us</a> ‚Ä¢ <a href="#">Contact</a> ‚Ä¢ <a href="#">Privacy Policy</a></p>
  <p>Powered by Smart India Hackathon</p>
</footer>

<!-- Login Modal -->
<div class="login-modal" id="authModal">
  <div class="login-box">
    <h3 id="authTitle">Login / Register</h3>
    
    <!-- Tabs -->
    <div class="login-tabs">
      <div class="login-tab active" id="tabLogin" onclick="switchAuthTab('login')">Login</div>
      <div class="login-tab" id="tabRegister" onclick="switchAuthTab('register')">Register</div>
    </div>

    <!-- Name field (only for register) -->
    <label for="authName" class="small" id="nameLabel" style="display:none">Full Name</label>
    <input id="authName" class="login-input" placeholder="Full Name" style="display:none">

    <!-- Email -->
    <label for="authEmail" class="small">Email</label>
    <input id="authEmail" class="login-input" placeholder="Email" type="email">

    <!-- Password with toggle -->
    <label for="authPass" class="small">Password</label>
    <div style="position:relative">
      <input id="authPass" class="login-input" placeholder="Password" type="password">
      <span onclick="togglePassword()" style="position:absolute;right:12px;top:12px;cursor:pointer;font-size:0.9rem;color:#777">üëÅ</span>
    </div>

    <!-- Error messages -->
    <div id="authError" class="small" style="color:red;display:none;margin-top:4px;"></div>

    <!-- Buttons -->
    <button id="authLoginBtn" class="login-btn" onclick="authLogin()">Login</button>
    <button id="authRegisterBtn" class="login-btn" onclick="authRegister()" style="display:none">Register</button>

    <!-- Extra options -->
    <div class="small" style="margin-top:10px;">
      <a href="#" onclick="forgotPassword(event)">Forgot Password?</a>
    <!-- </div>
    <div class="small">Students & Companies can register.<br>Admin uses <b>admin123@gmail.com</b> / <b>admin123</b>.</div>
  </div> -->
</div>

<script>
// ===== Default Admin Account =====
(function(){
  let users = JSON.parse(localStorage.getItem("users") || "[]");
  if(!users.find(u => u.role==="admin")){
    users.push({ email:"admin123@gmail.com", password:"admin123", role:"admin" });
  }
  localStorage.setItem("users", JSON.stringify(users));
})();

// ===== Storage Initialization =====
if(!localStorage.getItem('accounts'))
  localStorage.setItem('accounts', JSON.stringify({ "admin123@gmail.com": { password: "admin123", role: "admin", name:"Administrator" } }));
if(!localStorage.getItem('currentUser')) localStorage.setItem('currentUser', null);
if(!localStorage.getItem('pendingInternships')) localStorage.setItem('pendingInternships', JSON.stringify([]));
if(!localStorage.getItem('approvedInternships')) localStorage.setItem('approvedInternships', JSON.stringify([]));
if(!localStorage.getItem('studentApplications')) localStorage.setItem('studentApplications', JSON.stringify([]));
if(!localStorage.getItem('profiles')) localStorage.setItem('profiles', JSON.stringify({}));
if(!localStorage.getItem('certificates')) localStorage.setItem('certificates', JSON.stringify([]));
if(!localStorage.getItem('notifications')) localStorage.setItem('notifications', JSON.stringify([]));

let currentAuthRole = null;
let authTab = 'login';

// ===== Auth Modal =====
function openAuth(role){
  currentAuthRole = role;
  document.getElementById('authTitle').innerText = role.charAt(0).toUpperCase()+role.slice(1)+" Login / Register";

  if(role==='admin'){
    document.getElementById("authTitle").innerText="Admin Login"
    document.getElementById('tabRegister').style.display='none';
    switchAuthTab('login');
    document.getElementById('authName').style.display='none';
    document.getElementById('nameLabel').style.display='none';
    document.getElementById('authEmail').value='admin123@gmail.com';
    document.getElementById('authPass').value='admin123';
  } else {
    document.getElementById('tabRegister').style.display='block';
    document.getElementById('authName').style.display='none';
    document.getElementById('nameLabel').style.display='none';
    document.getElementById('authEmail').value='';
    document.getElementById('authPass').value='';
  }

  document.getElementById('authModal').style.display='flex';
}

function switchAuthTab(tab){
  authTab = tab;
  clearError();
  document.getElementById('tabLogin').classList.toggle('active', tab==='login');
  document.getElementById('tabRegister').classList.toggle('active', tab==='register');
  document.getElementById('authLoginBtn').style.display = tab==='login'?'block':'none';
  document.getElementById('authRegisterBtn').style.display = tab==='register'?'block':'none';
  document.getElementById('authName').style.display = tab==='register'?'block':'none';
  document.getElementById('nameLabel').style.display = tab==='register'?'block':'none';
}

function togglePassword(){
  const pass = document.getElementById('authPass');
  pass.type = pass.type === "password" ? "text" : "password";
}

function showError(msg){
  const err = document.getElementById('authError');
  err.innerText = msg;
  err.style.display = 'block';
}
function clearError(){ document.getElementById('authError').style.display='none'; }

function authLogin(){
  clearError();
  const email = document.getElementById('authEmail').value.trim().toLowerCase();
  const pass = document.getElementById('authPass').value.trim();
  if(!email || !pass){ showError("Please fill both fields."); return; }

  const accounts = JSON.parse(localStorage.getItem('accounts') || '{}');
  const acc = accounts[email];
  if(!acc || acc.password!==pass){ showError("Invalid email or password."); return; }
  if(acc.role !== currentAuthRole){ showError("Please login as "+acc.role); return; }

  localStorage.setItem('currentUser', JSON.stringify({email,role:acc.role}));
  document.getElementById('authModal').style.display='none';

  if(acc.role==='student') location.href='student.html';
  else if(acc.role==='company') location.href='company.html';
  else if(acc.role==='admin') location.href='admin.html';
}

function authRegister(){
  clearError();
  const name = document.getElementById('authName').value.trim();
  const email = document.getElementById('authEmail').value.trim().toLowerCase();
  const pass = document.getElementById('authPass').value.trim();
  if(!email || !pass){ showError("Fill all fields."); return; }
  if(currentAuthRole==='admin'){ showError("Admin registration not allowed"); return; }

  const accounts = JSON.parse(localStorage.getItem('accounts') || '{}');
  if(accounts[email]){ showError("Account already exists. Please login."); switchAuthTab('login'); return; }

  accounts[email] = { password: pass, role: currentAuthRole, name:name||'' };
  localStorage.setItem('accounts', JSON.stringify(accounts));
  alert(currentAuthRole.charAt(0).toUpperCase()+currentAuthRole.slice(1)+' registered. Now login.');
  switchAuthTab('login');
}

function forgotPassword(e){
  e.preventDefault();
  const email = prompt("Enter your registered email:");
  if(!email) return;
  const accounts = JSON.parse(localStorage.getItem('accounts') || '{}');
  if(accounts[email]){
    const newPass = prompt("Enter your new password:");
    if(newPass){
      accounts[email].password = newPass;
      localStorage.setItem('accounts', JSON.stringify(accounts));
      alert("Password updated. Please login with new password.");
    }
  } else {
    alert("No account found with that email.");
  }
}

function checkRoleBeforeNav(evt, role){
  const current = JSON.parse(localStorage.getItem('currentUser')||'null');
  if(!current || current.role!==role){
    evt && evt.preventDefault && evt.preventDefault();
    openAuth(role);
    return false;
  }
  return true;
}

function scrollTo(id){ document.getElementById(id).scrollIntoView({behavior:'smooth'}); }
</script>

</body>
</html>
